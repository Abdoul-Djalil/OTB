if( __EXTERNAL_GEOS__)
  return()
else()
  set(__EXTERNAL_GEOS__ 1)
endif()

if(USE_SYSTEM_GEOS)
  message(STATUS "  Using GEOS system version")
  return()
endif()

SETUP_SUPERBUILD(PROJECT GEOS)
message(STATUS "  Using GEOS SuperBuild version")

ExternalProject_Add(GEOS
  PREFIX GEOS
  URL "http://download.osgeo.org/geos/geos-3.4.2.tar.bz2"
  URL_MD5 fc5df2d926eb7e67f988a43a92683bae
  SOURCE_DIR ${GEOS_SB_SRC}
  BINARY_DIR ${GEOS_SB_BUILD_DIR}
  INSTALL_DIR ${SB_INSTALL_PREFIX}
  DOWNLOAD_DIR ${DOWNLOAD_LOCATION}
  CMAKE_CACHE_ARGS
  -DProject_WC_REVISION:STRING=99999
  -DBUILD_TESTING:BOOL=OFF
  -DGEOS_ENABLE_TESTS:BOOL=OFF
  CMAKE_COMMAND ${SB_CMAKE_COMMAND} )

SUPERBUILD_UPDATE_CMAKE_VARIABLES(GEOS FALSE)

SUPERBUILD_PATCH_SOURCE(GEOS)
